---
# ================================================================
#  group_vars/all.yml
#  Variables globales del laboratorio jmelol.lab
# ================================================================

# ---------------------------------------------------------------
# Red del laboratorio (Corregido espaciado)
# ---------------------------------------------------------------
lab_domain: "jmelol.lab"
lab_network: "192.168.100.0"
lab_netmask: "255.255.255.0"
lab_cidr: "192.168.100.0/24"
lab_gateway: "192.168.100.1"
lab_server_ip: "192.168.100.10"

# ---------------------------------------------------------------
# BIND / DNS (Se mantienen como dns_ si el rol se llama dns_bind)
# ---------------------------------------------------------------
dns_domain: "{{ lab_domain }}"
dns_server_ip: "{{ lab_server_ip }}"
dns_server_hostname: "ns1"
dns_zone_serial: "2025062401"

dns_ttl: 86400
dns_refresh: 3600
dns_retry: 900
dns_expire: 604800
dns_minimum_ttl: 3600

dns_allow_query: "any"
dns_recursion: "yes"
dns_listen_on: "127.0.0.1; {{ lab_server_ip }}"
dns_listen_on_v6: "none"

dns_forwarders:
  - "8.8.8.8"
  - "8.8.4.4"

dns_reverse_zone_name: "100.168.192.in-addr.arpa"

dns_a_records:
  - { name: "ns1",    ip: "192.168.100.10", ptr: "10" }
  - { name: "gw",     ip: "192.168.100.1",  ptr: "1"  }
  - { name: "client", ip: "192.168.100.100", ptr: "100" }

# ---------------------------------------------------------------
# DHCP (CAMBIO CR√çTICO: de dhcpd_ a dhcpd_ para cumplir con el rol)
# ---------------------------------------------------------------
dhcpd_domain_name: "{{ lab_domain }}"
dhcpd_domain_name_servers: ["{{ lab_server_ip }}"]

dhcpd_default_lease_time: 3600
dhcpd_max_lease_time: 86400

dhcpd_subnets:
  - network: "{{ lab_network }}"
    netmask: "{{ lab_netmask }}"
    range_start: "192.168.100.100"
    range_end: "192.168.100.200"
    routers: "{{ lab_gateway }}"
    broadcast: "192.168.100.255"

dhcpd_reservations: []

# Interfaz de escucha DHCP corregida con prefijo
dhcpd_interface: "eth1"
